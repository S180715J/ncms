<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>
			X-admin v1.0
		</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="format-detection" content="telephone=no">
		<link rel="stylesheet" href="../css/x-admin.css" media="all">
	</head>
	<body>
		<div class="x-nav">
			<span class="layui-breadcrumb">
              <a><cite>管理员列表</cite></a>
            </span>
			<a class="layui-btn layui-btn-small" style="line-height:1.6em;margin-top:3px;float:right" href="javascript:location.replace(location.href);" title="刷新"><i class="layui-icon" style="line-height:30px">ဂ</i></a>
		</div>
		<div class="x-body">
			<form style="width:800px">
				<div class="layui-form-pane" style="margin-top: 15px;">
					<div class="layui-form-item">
						<label class="layui-form-label">真实姓名</label>
						<div class="layui-input-inline">
							<input type="text" name="username" autocomplete="off" class="layui-input">
						</div>
						<label class="layui-form-label">昵称</label>
						<div class="layui-input-inline">
							<input type="text" name="username" autocomplete="off" class="layui-input">
						</div>
						<div class="layui-input-inline" style="width:80px">
							<button class="layui-btn" lay-submit="" lay-filter="sreach"><i class="layui-icon">&#xe615;</i></button>
						</div>
					</div>
				</div>
			</form>
			<table  id="demo" lay-filter="test"></table>

		</div>
		<script src="../layui/layui.js" charset="utf-8"></script>
		<script src="../js/x-layui.js" charset="utf-8"></script>
		<script src="../js/jquery.min.js"></script>
		<script>
			
			
			layui.use('table', function(){
				  var table = layui.table;
			table.render({
			    elem: '#demo',
			    height: 312,
			    url: 'http://localhost:8080/ncms/userlist',//数据接口
			    page: true, //开启分页
			    cols: [[ //表头
			      {field: 'userid', title: '用户编号', width:80, sort: true, fixed: 'left'},
			      {field: 'username', title: '登录名', width:80},
			      {field: 'realname', title: '真实姓名', width:80, sort: true},
			      {field: 'nickname', title: '昵称', width:80} ,
			      {field: 'rolename', templet:'{{d.role.rolename}}',title: '身份', width: 177},
			      {field: 'experience', title: '操作', width: 80, sort: true}
			    ]],
				parseData : function(res) { //将原始数据解析成 table 组件所规定的数据
					return {
						"code" : 0, //解析接口状态
						"count" : res.totalrows, //解析数据长度
						"data" : res.list

					//解析数据列表
					};
					alert(res);
				},
				skin : 'line' //行边框风格
				,
				even : true //开启隔行背景
				,
				size : 'lg',
				done : function(res, curr, count) {
					//如果是异步请求数据方式，res即为你接口返回的信息。
					//如果是直接赋值的方式，res即为：{data: [], count: 99} data为当前页数据、count为数据总长度
					//得到数据总量
					$("#dataLength").text("共有数据：" + count + "条");
				}

			  });
			  
			});
		</script>
	</body>

</html>